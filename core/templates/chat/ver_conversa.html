{% extends 'chat/base.html' %}

{% block title %}Conversa da Sessão {{ session_id }}{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white rounded shadow p-4">
    <h1 class="text-xl font-bold mb-4">
        💬 Conversa da Sessão: <code>{{ session_id }}</code>
    </h1>

    <div class="space-y-3">
        {% for msg in mensagens %}
            <div class="flex {% if msg.enviado_por_usuario %}justify-end{% else %}justify-start{% endif %}">
                <div class="{% if msg.enviado_por_usuario %}bg-blue-500 text-white{% else %}bg-gray-300 text-black{% endif %} px-4 py-2 rounded-lg max-w-[70%]">
                    <p class="text-sm whitespace-pre-wrap">{{ msg.texto }}</p>
                    <p class="text-xs text-right mt-1 {% if msg.enviado_por_usuario %}text-gray-200{% else %}text-gray-500{% endif %}">
                        {{ msg.timestamp|date:"d/m/Y H:i" }}
                    </p>
                </div>
            </div>
        {% endfor %}
    </div>

    <a href="{% url 'lista_sessoes' %}" class="block mt-6 text-blue-600 hover:underline">⬅️ Voltar para sessões</a>
</div>
{% endblock %}
